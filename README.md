# Cisco-Firepower-ThreadDefense-ACP-CSV-Export
This project is about exporting the Access Control Policies from a Cisco Firepower Management Center as a CSV file.

<br>
<br> As the regular documentation of the switched firewall rules in a Cisco Firepower Management Center takes a lot of time, this process, which takes place regularly at various customers, is to be automated. For example, a process in which an inventory list of the rules can be compared with the currently activated rules can take several hours.
<br>
<br> By automating the process, this hour-long effort can be simplified to around 5 minutes.
To do this, a Python script is executed on the customer's jump host, which contacts the FMC and dials in using the administrator login data. A CSV file is generated by a database query, which contains some basic information relevant to us.
However, as Python must be installed for this, which may not be very advisable for security reasons, this process can also be optimized. Using the Python program pyInstaller, a stand-alone Microsoft executable file can be created from a script that requires Python to be executed and installed on the host, which also works without requiring a Python installation on the host.
<br>
<br> Although a single executable file is much easier to handle, it can also make sense to use a "normal" program that refers to subdirectories with binary files. This is because the libraries used by the executable can be viewed by the integrated virus scanner, especially for KRITIS customers. This means that the virus protection system can still report and intervene in the event of a compromised library.
As an additional security measure, the executable file can also be provided with a certificate from the internal CA.






<br>
<br>
<br>
<br>


<br> Da das regelmäßige Dokumentieren der geschalteten Firewall-Regelwerke in einem Cisco Firepower Management Center einiges an Zeit mit sich bringt, soll dieser Prozess, welcher regelmäßig bei verschiedenen Kunden stattfindet, automatisiert werden. So kann ein Prozess, bei dem eine Bestandsliste des Regelwerks mit den aktuell geschalteten Regeln abgeglichen werden kann, mehrere Stunden dauern.
<br>
<br> Durch eine Automatisierung des Prozesses lässt sich dieser stundenlange Aufwand auf ca. 5 Minuten vereinfachen.
Dazu wird ein Python Skript auf dem Jumphost des Kunden ausgeführt, welches Kontakt zur FMC aufnimmt und sich mittels der Administrator-Log-in-Daten einwählt. Durch eine Datenbankabfrage wird eine CSV-Datei generiert, welche einige grundlegende für uns relevanten Informationen bereithält.
Da jedoch hierfür Python installiert sein muss, was unter Umständen aus Sicherheitsgründen nicht sehr ratsam sein kann, kann auch dieser Prozess optimiert werden. Mittels des Python-Programmes pyInstaller lässt sich aus einem Skript, welches ein auf dem Host ausgeführtes und installiertes Python benötigt, eine Stand-Alone Microsoft Executable Datei erstellen, welche ebenfalls funktioniert, ohne eine Python Installation auf dem Host zu benötigen.
<br>
<br> Zwar ist eine Single-Executable-Datei wesentlich einfacher zu handhaben, jedoch kann es ebenfalls sinnvoll sein, ein „normales“ Programm, welches auf Unterverzeichnisse verweist, mit Binärdateien zu verwenden. Da hier vorwiegend bei KRITIS Kunden durch den integrierten Virenscanner die verwendeten Bibliotheken der Executable eingesehen werden kann. So kann bei einer eventuellen kompromittierten Bibliothek seitens des Virenschutzes noch gemeldet und interveniert werden.
Als zusätzliche Absicherungsmaßnahme kann die Executable-Datei auch mit einem Zertifikat von der internen CA ausgestattet werden.









